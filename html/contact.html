<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="/javascript/script.js" defer></script>
    <link rel="stylesheet" href="/styles/style.css" />
    <script src="https://unpkg.com/feather-icons"></script>
    <title>ML Gym - Contact</title>
  </head>

  <body>
    <nav class="nav-component"></nav>

    <main>
      <section id="contact-head">
        <h2>Contact Us</h2>
      </section>
      <form
        action="/index.html"
        method="get"
        id="contact"
        onsubmit="return validateForm()"
      >
        <label for="first-name">First Name:</label>
        <i data-feather="user" id="icon-1"></i>
        <input
          type="text"
          name="first-name"
          id="first-name"
          placeholder="First Name"
          pattern="[a-zA-Z]{2,20}"
        />
        <span class="error">Invalid First Name - Must be 2 - 20 letters.</span>

        <label for="last-name">Last Name:</label>
        <i data-feather="user" id="icon-2"></i>
        <input
          type="text"
          name="last-name"
          id="last-name"
          placeholder="Last Name"
          pattern="[a-zA-Z]{2,20}"
        />
        <span class="error">Invalid Last Name - Must be 2 - 20 letters.</span>

        <label for="phone">Phone Number:</label>
        <i data-feather="phone" id="icon-3"></i>
        <input
          type="tel"
          name="phone"
          id="phone"
          placeholder="Phone Number"
          pattern="^\({0,1}((0|\+61)(2|4|3|7|8)){0,1}\){0,1}( |-){0,1}[0-9]{2}( |-){0,1}[0-9]{2}( |-){0,1}[0-9]{1}( |-){0,1}[0-9]{3}$"
        />
        <span class="error"
          >Invalid Phone Number - Must be 8 - 10 numbers.</span
        >

        <label for="email">Email:</label>
        <i data-feather="mail" id="icon-4"></i>
        <input
          type="email"
          name="email"
          id="email"
          placeholder="Email"
          pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
        />
        <span class="error">Invalid Email</span>

        <label for="postcode">Postcode:</label>
        <i data-feather="map-pin" id="icon-5"></i>
        <input
          type="text"
          name="postcode"
          id="postcode"
          placeholder="Postcode"
          pattern="[0-9]{4}"
        />
        <span class="error">Invalid Postcode - Must be 4 numbers.</span>

        <label for="subject">Subject:</label>
        <i data-feather="book-open" id="icon-6"></i>
        <input
          type="text"
          name="subject"
          id="subject"
          placeholder="Subject"
          pattern="[a-zA-Z ]{2,20}"
        />
        <span class="error">Invalid Input - Must be 2 - 20 letters.</span>

        <label for="message">Message:</label>
        <i data-feather="message-square" id="icon-7"></i>
        <textarea
          name="message"
          id="message"
          cols="10"
          rows="10"
          placeholder=" Message"
        ></textarea>
        <span class="error" id="message-error"
          >Invalid Message - Must be 2 - 100 letters or numbers.</span
        >

        <input
          type="submit"
          name="submit-contact"
          id="submit-contact"
          value="Submit"
          onclick="javascript:validate()"
        />

        <a onClick="toggleImage()" class="w-100 mb-10" href="#" id="help-link"
          >Help</a
        >
        <img
          src="/images/contact-help.gif"
          id="help-image"
          class="hidden w-100"
          alt="help image"
        />
      </form>

      <footer class="footer-component"></footer>
    </main>

    <!-- Help image script -->
    <script>
      function toggleImage() {
        document.querySelector("#help-image").classList.toggle("hidden");
      }
    </script>

    <!-- textarea script -->
    <script>
      function validateForm() {
        let valid = true;

        let val = document.getElementById("message").value;
        if (!/[a-zA-Z0-9!@#$%&?]{2,100}/.test(val)) {
          document.getElementById("message-error").style.display = "block";
          valid = false;
        } else {
          document.getElementById("message-error").style.display = "none";
        }

        // Add similar validation for other fields here

        return valid; // form will not submit if this returns false
      }
      document.getElementById("message").addEventListener("input", () => {
        let val = document.getElementById("message").value;
        if (/[a-zA-Z0-9!@#$%&?]{2,100}/.test(val)) {
          document.getElementById("message-error").style.display = "none";
        }
      });
    </script>

    <script>
      feather.replace();
    </script>
  </body>
</html>
